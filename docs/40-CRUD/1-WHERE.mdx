# üëê WHERE ‚Üí .find()

Similar to SQL's `WHERE` clause, the `.find()` method in MongoDB retrieves documents from a collection that match a specified query.

## Syntax

```js
db.collection.find({ <query> })
```

- `<query>`: Specifies conditions to filter documents.

## Example: Find all books from 2020

```js
db.books.find({ year: 2020 });
```

### Equivalent SQL Query

```sql
SELECT * FROM books WHERE year = 2020;
```

## Filtering with `find()`

The `find()` method takes a document as its first argument. This document specifies the filter criteria. You can use a variety of expressions within the filter document:

- **Comparison Operators:** `$eq` (equals), `$ne` (not equals), `$gt` (greater than), `$lt` (less than), `$gte` (greater than or equals), `$lte` (less than or equals), `$in` (in an array), `$nin` (not in an array).
- **Logical Operators:** `$and`, `$or`, `$not`.
- **Element Operators:** `$exists` (check for field existence), `$type` (check data type).
- **Evaluation Operators:** `$regex` (regular expression matching), `$where` (JavaScript code execution).
- **Geo-spatial Operators:** For location-based queries.
- **Array Operators:** For querying arrays.

Now, let's utilize a few MongoDB operators and create more sophisticated queries:

### $or and $gt operator

Suppose, we want to get all the books written in 2010 OR has more than 200 pages.

```sql
  SELECT * FROM books WHERE year = 2010 OR pages > 200
```

Equivalent MongoDB Query:

```js
db.books.find({
  $or: [
    { year: 2010 }, // <--- 1st condition
    { pages: { $gt: 200 } }, // <--- 2nd condition
  ],
});
```

### $and operator

This time, instead of OR let's query using AND:

```sql
  SELECT * FROM books WHERE year = 2010 AND pages > 200
```

Equivalent MongoDB query:

```js
db.books.find({
  $and: [
    { year: 2010 }, // <--- 1st condition
    { pages: { $gt: 200 } }, // <--- 2nd condition
  ],
});
```

### Shorthand $and

When we are querying on 2 different fields and want to utilize $and, we can do so by passing a document with all the conditions like this:

```js
db.books.find({ year: 2010, pages: { $gt: 200 } });
```

As you can see, we don't have to pass an Array of conditions, MongoDB implicitly considers this as $and.

## üëê Challenge

Now, translate the following into a MongoDB Query.

#### 1. Find all books where `totalInventory` is exactly 5.

<details>
  <summary>Answer</summary>
  <div>
    ```js
      db.books.find({ totalInventory: 5 });
    ```
  </div>
</details>

#### 2. Find all books with more than 300 pages.

<details>
  <summary>Answer</summary>
  <div>
    ```js
      db.books.find({ pages: {$gt: 300} });
    ```
  </div>
</details>

#### 3. Find books in the "Science" genre that has more than 300 pages.

<details>
  <summary>Answer</summary>
  <div>
    ```js
      db.books.find({ genres: "Science", pages: {$gt: 300} });
    ```
  </div>
</details>
